// gRPC service for KV data backup
// This is between worker node and backup node

syntax = "proto3";

package kv.proto;
option go_package = "proto";

import "common.proto";

service KVBackup {
  rpc Backup(stream BackupEntry) returns (BackupReply) {}
}

message BackupEntry {
  Operation op = 1;
  string key = 2;
  string value = 3;
}

message BackupReply {
  Status status = 1;
  int32 version = 2;
}